<form (ngSubmit)="saveBook()" [formGroup]="bookForm">
    <h1>
        Create a book
    </h1>

    <div class="group">
        <input type="text" formControlName="title" autocomplete="off">
        <span class="highlight"></span>
        <span class="bar"></span>
        <label>Name</label>
        <div class="custom-error required-error" [ngClass]="bookForm.get('title').errors">
            Is required
        </div>
        <div class="custom-error minlength-error" [ngClass]="bookForm.get('title')?.errors">
            Must be at least 4 characters long.
        </div>
    
    </div>

    <div class="group">
        <input type="text" formControlName="description" autocomplete="off">
        <span class="highlight"></span>
        <span class="bar"></span>
        <label>Description</label>
    </div>

    <div class="group">
        <input type="text" formControlName="author"  autocomplete="off">
        <span class="highlight"></span>
        <span class="bar"></span>
        <label>Author</label>
         <div class="error" [hidden]="bookForm.get('author').valid && bookForm.get('author').untouched || !bookForm.get('author').errors?.required">
            Author is required
        </div>
        <div class="error" *ngIf="bookForm.get('author').errors?.minlength">
            Author must be at least 4 characters long.
        </div> 
    </div>
    <div class="group">
        <input type="date" formControlName="publishedDate">
        <span class="highlight"></span>
        <span class="bar"></span>
        <label>PublishedDate</label>
        <div class="custom-error required-error" [ngClass]="bookForm.get('publishedDate').errors">
            PublishedDate is required
        </div> 
    </div>

    <div class="btn-box">
        <button class="btn btn-submit" type="submit" [disabled]="bookForm.invalid">submit</button>
        <button class="btn btn-cancel" type="button" (click)="revert()">cancel</button>
    </div>
</form>